# 下单流程
## 描述
下单流程涉及到寄送地址、商品信息、商品促销、礼券使用、商品库存扣减等等问题
- 获取购物车商品信息
- 查询商品对应的库存
  - 注意库存的幂等性
  - 注意库存的数据的一致性
  - 解决上述的方式，采用设置库存，而非直接扣减更新库存，且通过版本号或旧库存新旧数据判断
- 获取商品促销信息
- 获取订单邮寄费用
- 计算最终的订单的支付金额


